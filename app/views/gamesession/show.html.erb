<head>
  <style>
    /* Set the size of the div element that contains the map */
    #map {
      height: 600px;  /* The height is 400 pixels */
      width: 100%;  /* The width is the width of the web page */
    }
  </style>
</head>
<table style="width:100%">
  <tr>
    <th>ID</th>
    <th>Host</th>
    <th>Date</th>
    <th>Game</th>
    <th>City</th>
    <th>PayerNB</th>
    <th>MaxPlayers</th>
    <th>Description</th>
    <th>Time</th>
    <th>PlayerSkill</th>
    <th>Status</th>
  </tr>
    <tr>
      <td><%=@session.id%></td>
      <td><%=@session.host.nickname%></td>
      <td><%=@session.date%></td>
      <td><%=@session.game.title%></td>
      <td><%=@session.city%></td>
      <td><%=@session.playernb%></td>
      <td><%=@session.maxplayers%></td>
      <td><%=@session.description%></td>
      <td><%=@session.time%></td>
      <td><%=@session.playerskill%></td>
      <td><%=@session.status%></td>
    </tr>
</table>
PLAYERS
<table style="width:100%">
  <tr>
    <th>Name</th>
    <th>RequestStatus</th>
  </tr>
  <% @session.players.each do |player| %>
    <tr>
      <td><%=player.nickname%></td>
      <% request = Request.find_by(user_id: player.id, session_id: @session.id) %>
      <td><%=request.status%></td>
      <% if user_signed_in? %>
        <% if @session.host == current_user %>
          <% if request.pending? %>
            <td><%=link_to "AcceptRequest", acceptrequest_path(session_id: @session.id, user_id: player.id)%></td>
            <td><%=link_to "DenyRequest", denyrequest_path(session_id: @session.id, user_id: player.id)%></td>
          <% end %>
        <% end %>
      <% end %>
    </tr>
  <% end %>
</table>
  <h3>My Google Maps Demo</h3>
  <!--The div element for the map -->
  <div id="map"></div>
  <script>
// Initialize and add the map
function initMap() {
  var pos = {lat: <%= @location.first.coordinates[0] %>, lng: <%= @location.first.coordinates[1] %>};
  <% if user_signed_in? %>
    <% if @session.players.include?(current_user) %>
      <% if Request.find_by(user_id: current_user.id, session_id: @session.id).accepted? %>
        var pos = {lat: <%= @adress.first.coordinates[0] %>, lng: <%= @adress.first.coordinates[1] %>};
      <% end %>
    <% end %>
  <% end %>
  var map = new google.maps.Map(
    document.getElementById('map'), {zoom: 15, center: pos});
  // The marker, positioned at Uluru
  var marker = new google.maps.Marker({position: pos, map: map});
}
  </script>
  <!--Load the API from the specified URL
  * The async attribute allows the browser to render the page while the API loads
  * The key parameter will contain your own API key (which is not needed for this tutorial)
  * The callback parameter executes the initMap() function
  -->
  <script async defer
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIkuKEbXIU73y_GbPuVvln3h-V7f8k2R8&callback=initMap">
  </script>
